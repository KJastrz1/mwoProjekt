# name: CI selenium

# on:
#   push:
#     branches: [ "master" ]
#   pull_request:
#     branches: [ "master" ]

# jobs:
#   build:
#     runs-on: ubuntu-latest

#     steps:
#       - name: Checkout Repository
#         uses: actions/checkout@v3

#       - name: Setup .NET Core
#         uses: actions/setup-dotnet@v3
#         with:
#           dotnet-version: '7.0.100'  

#       - name: Restore Dependencies
#         run: dotnet restore

#       - name: Build
      
#         run: dotnet build --configuration Release
        
#       - name: Publish
#         run: dotnet publish ./P10ShopWebAPPMVC.Client/P10ShopWebAPPMVC.Client.csproj -c Release -o ${{ env.DOTNET_ROOT}}/api 
     
#       - name: upload artifact
#         uses: actions/upload-artifact@v3.1.0
#         with:
#           name: personsApi-artifact
#           path: ${{ env.DOTNET_ROOT}}/api          
 
        
#       - name: Publish
#         env:
#           CONNECTION_STRING: ${{ secrets.DB_CONNECTION_STRING }}
#         run: 
#           dotnet publish ./P05Shop.API/P05Shop.API.csproj -c Release -o ${{ env.DOTNET_ROOT}}/api 
     
#       - name: upload artifact
#         uses: actions/upload-artifact@v3.1.0
#         with:
#           name: moviesapi-artifact
#           path: ${{ env.DOTNET_ROOT}}/api   

        
#   deploy-dev:
#     runs-on: ubuntu-latest
#     needs: build 
#     environment:
#       name: 'Dev' 
#       url: ${{ steps.deploy-to-azure.outputs.webapp-url}}
#     steps:  
#       - name: Download a Build Artifact
#         uses: actions/download-artifact@v3.0.0 
#         with:
#           name: personsApi-artifact
#       - name: Azure WebApp 
#         id: deploy-to-azure
#         uses: Azure/webapps-deploy@v2
#         with:
#           app-name: 'mwoprojekt' 
#           publish-profile: ${{ secrets.PUBLISH_PROFILE_DEV }}

#       - name: Download a Build Artifact API
#         uses: actions/download-artifact@v3.0.0 
#         with:
#           name: moviesapi-artifact
#       - name: Azure WebApp API
#         id: deploy-api-to-azure
#         uses: Azure/webapps-deploy@v2
#         with:
#           app-name: 'mwoprojektapi' 
#           publish-profile: ${{ secrets.PUBLISH_PROFILE_DEV_API }}
